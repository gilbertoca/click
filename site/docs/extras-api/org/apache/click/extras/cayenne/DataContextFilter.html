<!DOCTYPE HTML>
<html lang="pt">
<head>
<!-- Generated by javadoc (17) on Thu Dec 12 14:40:24 BRT 2024 -->
<title>DataContextFilter (Click Extras API - v2.4.0)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2024-12-12">
<meta name="description" content="declaration: package: org.apache.click.extras.cayenne, class: DataContextFilter">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.click.extras.cayenne</a></div>
<h1 title="Class DataContextFilter" class="title">Class DataContextFilter</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.apache.click.extras.cayenne.DataContextFilter</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://javaee.github.io/javaee-spec/javadocs/javax/servlet/Filter.html" title="class or interface in javax.servlet" class="external-link">Filter</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">DataContextFilter</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="https://javaee.github.io/javaee-spec/javadocs/javax/servlet/Filter.html" title="class or interface in javax.servlet" class="external-link">Filter</a></span></div>
<div class="block">Provides a servlet filter which binds DataContext objects to the current
 request thread and optionally the users HttpSession. This filter will
 automatically rollback any uncommitted changes at the end of each request.
 <p/>
 When the click application is in <code>debug</code> or <code>trace</code> mode this
 filter will log any uncommitted data objects at the end of each request.
 <p/>
 For units of work spanning multiple requests, such as a multi-page work flow,
 it is recommended that you add a separate DataContext to the session
 for the unit of work.

 <h3>Session vs Request Scope</h3>

 By default DataContext objects will be associated with the users HttpSession
 allowing objects to be cached in the users DataContext. Alternatively the
 filter can be configured to create a new DataContext object for each request.
 <p/>
 Using session scope DataObjects is a good option for web applications which
 have exclusive access to the underlying database. However when web applications
 share a database you should probably disable this option by setting the
 <code>session-scope</code> init parameter to false.

 <h3>Shared Cache</h3>

 By default DataContext objects will be created which use the Cayenne shared
 cache. This is a good option for web applications which have exclusive
 access to the underlying database.
 <p/>
 However when web applications which share a database you should probably
 disable this option by setting the <code>shared-cache</code> init parameter to false.


 <h3>OSCache Enabled</h3>

 This option enables you to specify whether
 <a href="http://www.opensymphony.com/oscache/">OSCache</a> should be used
 as the query cache for the DataDomain. By default OSCache is not enabled.
 <p/>
 OSCache enables you to significantly
 increase the performance of your applications with in-memory query caching.
 OSCache provides fine grain control over query caching, expiry and supports
 clustered cache invalidation.
 <p/>
 See
 Cayenne <a href="http://cayenne.apache.org/doc/query-result-caching.html">Query Result Caching</a>
 for more details.

 <h3>Lifecycle Listener</h3>

 You can register a data domain
 <a href="http://cayenne.apache.org/doc/api/org/apache/cayenne/LifecycleListener.html">LifecycleListener</a>
 class to listen to persistent object lifecycle events. Please see the
 Cayenne <a href="http://cayenne.apache.org/doc/lifecycle-callbacks.html">Lifecycle Callbacks</a>
 documentation for more details.
 <p/>
 To configure a Lifecycle Listener simply specify the class name of the listener
 class as a filter init parameter. For example:

 <pre class="codeConfig">
   &lt;filter&gt;
     &lt;filter-name&gt;<span class="blue">DataContextFilter</span>&lt;/filter-name&gt;
     &lt;filter-class&gt;<span class="red">org.apache.click.extras.cayenne.DataContextFilter</span>&lt;/filter-class&gt;
     &lt;init-param&gt;
       &lt;param-name&gt;<font color="blue">lifecycle-listener</font>&lt;/param-name&gt;
       &lt;param-value&gt;<font color="red">com.mycorp.service.AuditListener</font>&lt;/param-value&gt;
     &lt;/init-param&gt;
   &lt;/filter&gt; </pre>

 <h3>Configuration Examples</h3>

 An example data context filter configuration in the web application's
 <code>/WEB-INF/web.xml</code> file is provided below. This example stores the
 DataContext in the users session and uses the Cayenne shared cache when
 creating DataContext objects.
 <p/>
 This configuration is particularly useful when the web application is the
 only application making changes to the database.

 <pre class="codeConfig">
 &lt;web-app&gt;

   &lt;filter&gt;
     &lt;filter-name&gt;<span class="blue">DataContextFilter</span>&lt;/filter-name&gt;
     &lt;filter-class&gt;<span class="red">org.apache.click.extras.cayenne.DataContextFilter</span>&lt;/filter-class&gt;
   &lt;/filter&gt;

   &lt;filter-mapping&gt;
     &lt;filter-name&gt;<span class="blue">DataContextFilter</span>&lt;/filter-name&gt;
     &lt;servlet-name&gt;<span class="green">ClickServlet</span>&lt;/servlet-name&gt;
   &lt;/filter-mapping&gt;

   &lt;servlet&gt;
     &lt;servlet-name&gt;<span class="green">ClickServlet</span>&lt;/servlet-name&gt;
     &lt;servlet-class&gt;org.apache.click.ClickServlet&lt;/servlet-class&gt;
     ..

 &lt;/web-app&gt; </pre>

 An example data context filter configuration in the web application's
 <code>/WEB-INF/web.xml</code> file is provided below. This example creates
 a new DataContext object for each request and does <b>not</b> use the
 Cayenne shared cache when creating DataContext objects.
 <p/>
 This configuration is useful when multiple applications are making changes to
 the database.
 
 <pre class="codeConfig">

 &lt;web-app&gt;

   &lt;filter&gt;
     &lt;filter-name&gt;<span class="blue">DataContextFilter</span>&lt;/filter-name&gt;
     &lt;filter-class&gt;<span class="red">org.apache.click.extras.cayenne.DataContextFilter</span>&lt;/filter-class&gt;
     &lt;init-param&gt;
       &lt;param-name&gt;<font color="blue">session-scope</font>&lt;/param-name&gt;
       &lt;param-value&gt;<font color="red">false</font>&lt;/param-value&gt;
     &lt;/init-param&gt;
     &lt;init-param&gt;
       &lt;param-name&gt;<font color="blue">shared-cache</font>&lt;/param-name&gt;
       &lt;param-value&gt;<font color="red">false</font>&lt;/param-value&gt;
     &lt;/init-param&gt;
   &lt;/filter&gt;

   &lt;filter-mapping&gt;
     &lt;filter-name&gt;<span class="blue">DataContextFilter</span>&lt;/filter-name&gt;
     &lt;servlet-name&gt;<span class="green">ClickServlet</span>&lt;/servlet-name&gt;
   &lt;/filter-mapping&gt;

   &lt;servlet&gt;
     &lt;servlet-name&gt;<span class="green">ClickServlet</span>&lt;/servlet-name&gt;
     &lt;servlet-class&gt;org.apache.click.ClickServlet&lt;/servlet-class&gt;
     ..

 &lt;/web-app&gt; </pre>

 <h3>Examples</h3>

 Please see the Click Examples application for a demonstration of Cayenne integration.
 <p/>
 This class is adapted from the Cayenne
 <code>WebApplicationContextFilter</code>.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected boolean</code></div>
<div class="col-second even-row-color"><code><a href="#autoRollback" class="member-name-link">autoRollback</a></code></div>
<div class="col-last even-row-color">
<div class="block">Automatically rollback any changes to the DataContext at the end of
 each request, the default value is true.</div>
</div>
<div class="col-first odd-row-color"><code>protected org.apache.cayenne.access.DataDomain</code></div>
<div class="col-second odd-row-color"><code><a href="#dataDomain" class="member-name-link">dataDomain</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The Cayenne DataDomain.</div>
</div>
<div class="col-first even-row-color"><code>protected <a href="https://javaee.github.io/javaee-spec/javadocs/javax/servlet/FilterConfig.html" title="class or interface in javax.servlet" class="external-link">FilterConfig</a></code></div>
<div class="col-second even-row-color"><code><a href="#filterConfig" class="member-name-link">filterConfig</a></code></div>
<div class="col-last even-row-color">
<div class="block">The filter configuration object we are associated with.</div>
</div>
<div class="col-first odd-row-color"><code>protected <a href="https://click.apache.org/docs/click-api/org/apache/click/service/LogService.html" title="class or interface in org.apache.click.service" class="external-link">LogService</a></code></div>
<div class="col-second odd-row-color"><code><a href="#logger" class="member-name-link">logger</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The Click log service.</div>
</div>
<div class="col-first even-row-color"><code>protected boolean</code></div>
<div class="col-second even-row-color"><code><a href="#sessionScope" class="member-name-link">sessionScope</a></code></div>
<div class="col-last even-row-color">
<div class="block">Maintain user DataContext object in their HttpSession, the default value
 is false.</div>
</div>
<div class="col-first odd-row-color"><code>protected <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link">Boolean</a></code></div>
<div class="col-second odd-row-color"><code><a href="#sharedCache" class="member-name-link">sharedCache</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Create DataContext objects using the shared cache.</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">DataContextFilter</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected org.apache.cayenne.access.DataContext</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createDataContext()" class="member-name-link">createDataContext</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return a new DataContext instance using a shared cache if the filter is
 configured with <code>use-shared-cache</code>, otherwise the DataContext
 will not use a shared cache.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#destroy()" class="member-name-link">destroy</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Destroy the DataContextFilter.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doFilter(javax.servlet.ServletRequest,javax.servlet.ServletResponse,javax.servlet.FilterChain)" class="member-name-link">doFilter</a><wbr>(<a href="https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletRequest.html" title="class or interface in javax.servlet" class="external-link">ServletRequest</a>&nbsp;request,
 <a href="https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletResponse.html" title="class or interface in javax.servlet" class="external-link">ServletResponse</a>&nbsp;response,
 <a href="https://javaee.github.io/javaee-spec/javadocs/javax/servlet/FilterChain.html" title="class or interface in javax.servlet" class="external-link">FilterChain</a>&nbsp;chain)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This filter binds the session DataContext to the current thread, and
 removes the DataContext from the thread once the chained request has
 completed.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected org.apache.cayenne.access.DataContext</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getDataContext(javax.servlet.http.HttpServletRequest)" class="member-name-link">getDataContext</a><wbr>(<a href="https://javaee.github.io/javaee-spec/javadocs/javax/servlet/http/HttpServletRequest.html" title="class or interface in javax.servlet.http" class="external-link">HttpServletRequest</a>&nbsp;request)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return a DataContext instance.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://javaee.github.io/javaee-spec/javadocs/javax/servlet/FilterConfig.html" title="class or interface in javax.servlet" class="external-link">FilterConfig</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getFilterConfig()" class="member-name-link">getFilterConfig</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return filter config.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#init(javax.servlet.FilterConfig)" class="member-name-link">init</a><wbr>(<a href="https://javaee.github.io/javaee-spec/javadocs/javax/servlet/FilterConfig.html" title="class or interface in javax.servlet" class="external-link">FilterConfig</a>&nbsp;config)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Initialize the shared Cayenne configuration.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setFilterConfig(javax.servlet.FilterConfig)" class="member-name-link">setFilterConfig</a><wbr>(<a href="https://javaee.github.io/javaee-spec/javadocs/javax/servlet/FilterConfig.html" title="class or interface in javax.servlet" class="external-link">FilterConfig</a>&nbsp;filterConfig)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Set filter configuration.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="autoRollback">
<h3>autoRollback</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">autoRollback</span></div>
<div class="block">Automatically rollback any changes to the DataContext at the end of
 each request, the default value is true.
 <p/>
 This option is only useful for sessionScope DataObjects.</div>
</section>
</li>
<li>
<section class="detail" id="dataDomain">
<h3>dataDomain</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">org.apache.cayenne.access.DataDomain</span>&nbsp;<span class="element-name">dataDomain</span></div>
<div class="block">The Cayenne DataDomain.</div>
</section>
</li>
<li>
<section class="detail" id="filterConfig">
<h3>filterConfig</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://javaee.github.io/javaee-spec/javadocs/javax/servlet/FilterConfig.html" title="class or interface in javax.servlet" class="external-link">FilterConfig</a></span>&nbsp;<span class="element-name">filterConfig</span></div>
<div class="block">The filter configuration object we are associated with.  If this value
 is null, this filter instance is not currently configured.</div>
</section>
</li>
<li>
<section class="detail" id="sessionScope">
<h3>sessionScope</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">sessionScope</span></div>
<div class="block">Maintain user DataContext object in their HttpSession, the default value
 is false. If sessionScope is false then a new DataContext object will be
 created for each request.</div>
</section>
</li>
<li>
<section class="detail" id="sharedCache">
<h3>sharedCache</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link">Boolean</a></span>&nbsp;<span class="element-name">sharedCache</span></div>
<div class="block">Create DataContext objects using the shared cache.</div>
</section>
</li>
<li>
<section class="detail" id="logger">
<h3>logger</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://click.apache.org/docs/click-api/org/apache/click/service/LogService.html" title="class or interface in org.apache.click.service" class="external-link">LogService</a></span>&nbsp;<span class="element-name">logger</span></div>
<div class="block">The Click log service.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>DataContextFilter</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">DataContextFilter</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="init(javax.servlet.FilterConfig)">
<h3>init</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">init</span><wbr><span class="parameters">(<a href="https://javaee.github.io/javaee-spec/javadocs/javax/servlet/FilterConfig.html" title="class or interface in javax.servlet" class="external-link">FilterConfig</a>&nbsp;config)</span></div>
<div class="block">Initialize the shared Cayenne configuration. If the
 <code>use-shared-cache</code> init parameter is defined</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="https://javaee.github.io/javaee-spec/javadocs/javax/servlet/Filter.html#init-javax.servlet.FilterConfig-" title="class or interface in javax.servlet" class="external-link">init</a></code>&nbsp;in interface&nbsp;<code><a href="https://javaee.github.io/javaee-spec/javadocs/javax/servlet/Filter.html" title="class or interface in javax.servlet" class="external-link">Filter</a></code></dd>
<dt>Parameters:</dt>
<dd><code>config</code> - the filter configuration</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/RuntimeException.html" title="class or interface in java.lang" class="external-link">RuntimeException</a></code> - if an initialization error occurs</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="https://javaee.github.io/javaee-spec/javadocs/javax/servlet/Filter.html#init-javax.servlet.FilterConfig-" title="class or interface in javax.servlet" class="external-link"><code>Filter.init(FilterConfig)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="destroy()">
<h3>destroy</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">destroy</span>()</div>
<div class="block">Destroy the DataContextFilter.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="https://javaee.github.io/javaee-spec/javadocs/javax/servlet/Filter.html#destroy--" title="class or interface in javax.servlet" class="external-link">destroy</a></code>&nbsp;in interface&nbsp;<code><a href="https://javaee.github.io/javaee-spec/javadocs/javax/servlet/Filter.html" title="class or interface in javax.servlet" class="external-link">Filter</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doFilter(javax.servlet.ServletRequest,javax.servlet.ServletResponse,javax.servlet.FilterChain)">
<h3>doFilter</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">doFilter</span><wbr><span class="parameters">(<a href="https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletRequest.html" title="class or interface in javax.servlet" class="external-link">ServletRequest</a>&nbsp;request,
 <a href="https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletResponse.html" title="class or interface in javax.servlet" class="external-link">ServletResponse</a>&nbsp;response,
 <a href="https://javaee.github.io/javaee-spec/javadocs/javax/servlet/FilterChain.html" title="class or interface in javax.servlet" class="external-link">FilterChain</a>&nbsp;chain)</span>
              throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletException.html" title="class or interface in javax.servlet" class="external-link">ServletException</a></span></div>
<div class="block">This filter binds the session DataContext to the current thread, and
 removes the DataContext from the thread once the chained request has
 completed.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="https://javaee.github.io/javaee-spec/javadocs/javax/servlet/Filter.html#doFilter-javax.servlet.ServletRequest-javax.servlet.ServletResponse-javax.servlet.FilterChain-" title="class or interface in javax.servlet" class="external-link">doFilter</a></code>&nbsp;in interface&nbsp;<code><a href="https://javaee.github.io/javaee-spec/javadocs/javax/servlet/Filter.html" title="class or interface in javax.servlet" class="external-link">Filter</a></code></dd>
<dt>Parameters:</dt>
<dd><code>request</code> - the servlet request</dd>
<dd><code>response</code> - the servlet response</dd>
<dd><code>chain</code> - the filter chain</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - if an I/O error occurs</dd>
<dd><code><a href="https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletException.html" title="class or interface in javax.servlet" class="external-link">ServletException</a></code> - if a servlet error occurs</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setFilterConfig(javax.servlet.FilterConfig)">
<h3>setFilterConfig</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setFilterConfig</span><wbr><span class="parameters">(<a href="https://javaee.github.io/javaee-spec/javadocs/javax/servlet/FilterConfig.html" title="class or interface in javax.servlet" class="external-link">FilterConfig</a>&nbsp;filterConfig)</span></div>
<div class="block">Set filter configuration. This function is equivalent to init and is
 required by Weblogic 6.1.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>filterConfig</code> - the filter configuration object</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getFilterConfig()">
<h3>getFilterConfig</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://javaee.github.io/javaee-spec/javadocs/javax/servlet/FilterConfig.html" title="class or interface in javax.servlet" class="external-link">FilterConfig</a></span>&nbsp;<span class="element-name">getFilterConfig</span>()</div>
<div class="block">Return filter config. This is required by Weblogic 6.1</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the filter configuration</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getDataContext(javax.servlet.http.HttpServletRequest)">
<h3>getDataContext</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">org.apache.cayenne.access.DataContext</span>&nbsp;<span class="element-name">getDataContext</span><wbr><span class="parameters">(<a href="https://javaee.github.io/javaee-spec/javadocs/javax/servlet/http/HttpServletRequest.html" title="class or interface in javax.servlet.http" class="external-link">HttpServletRequest</a>&nbsp;request)</span></div>
<div class="block">Return a DataContext instance. If the DataContextFilter is configured
 to associate the DataContext with the session (which is the default
 behaviour), the DataContext will be bound to the users session. If
 the DataContext is already available, the existing DataContext will be
 used otherwise a new DataContext object will be created.
 <p/>
 If this filter is configured with <code>create-each-request</code> to be true
 then a new DataContext will be created for each request and the DataContext
 will not be bound to the session.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>request</code> - the page request</dd>
<dt>Returns:</dt>
<dd>the DataContext object</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createDataContext()">
<h3>createDataContext</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">org.apache.cayenne.access.DataContext</span>&nbsp;<span class="element-name">createDataContext</span>()</div>
<div class="block">Return a new DataContext instance using a shared cache if the filter is
 configured with <code>use-shared-cache</code>, otherwise the DataContext
 will not use a shared cache.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the DataContext object</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
